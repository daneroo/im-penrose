b.style.margin=0,X=b.clientWidth,Y=window.innerHeight-4,c.width=X,c.height=Y,a.translate(X/2,Y/2),a.scale(30,-30),function(){function n(n,i){n.forEach(i)}function i(i,o){a.beginPath(),a.moveTo(i[0].x,i[0].y),n([1,3,2],function(n){a.lineTo(i[n].x,i[n].y)}),a.globalAlpha=.5,a.fillStyle=x[o%5],a.fill()}function o(n,i,o,a){var y=c[n],r=c[o],x={x:(i+l[n])*c[n].x,y:(i+l[n])*c[n].y},f={x:(a+l[o])*c[o].x,y:(a+l[o])*c[o].y},t=-y.y/y.x,h=-t*x.y+x.x,u=-r.x/r.y,e=-u*f.x+f.y,s=(u*h+e)/(1-u*t),b=t*s+h;return{x:b,y:s}}function y(a,y,r,x){var f,u,e,s,b,g=Array(t),p=o(a,y,r,x),v=[],A=[y-1,y],d=[x-1,x];for(u=0;t>u;u++)e=c[u],e.x||(s=e.y,e.y=e.x,e.x=s),f=-e.y/e.x,g[u]=h.floor((p.x-f*p.y)/(-f*e.y+e.x)-l[u]);n(A,function(i){n(d,function(n){for(g[a]=i,g[r]=n,b={x:0,y:0},u=0;t>u;u++)b.x+=g[u]*c[u].x,b.y+=g[u]*c[u].y;v.push(b)})}),i(v,a,r)}var r,x=["#b80","#D38","#77C","#3AA","#8A0"],f=[],t=5,c=[],l=[],h=Math;for(r=t;r-->0;){var u=90+r*(360/t),e=u*h.PI/180;f.push(u),c.push({x:-h.sin(e),y:h.cos(e)}),l.push(h.random())}for(i0=t;i0-->0;)for(i1=t;i1-->0;)if(i1-i0)for(n0=6;n0-->-5;)for(n1=6;n1-->-5;)y(i0,n0,i1,n1)}();