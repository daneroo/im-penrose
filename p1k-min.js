function z(){function r(r,a,o,y){var n=s[r],t=s[o],x={x:(a+f[r])*s[r].x,y:(a+f[r])*s[r].y},e={x:(y+f[o])*s[o].x,y:(y+f[o])*s[o].y},i=-n.y/n.x,l=-i*x.y+x.x,h=-t.x/t.y,c=-h*e.x+e.y,u=(h*l+c)/(1-h*i),g=i*u+l;return{x:g,y:u}}function o(o,y,n,t){var x,e,i,c,u,g,v,b=Array(h),d=r(o,y,n,t),p=[];for(c=0;h>c;c++)u=s[c],u.x||(g=u.y,u.y=u.x,u.x=g),i=-u.y/u.x,b[c]=l.floor((d.x-i*d.y)/(-i*u.y+u.x)-f[c]);for(x=y+1;x-->y-1;)for(e=t+1;e-->t-1;){for(b[o]=x,b[n]=e,v={x:0,y:0},c=h;c-->0;)v.x+=b[c]*s[c].x,v.y+=b[c]*s[c].y;p.push(v)}a.beginPath(),a.moveTo(p[0].x,p[0].y),[1,3,2].forEach(function(r){a.lineTo(p[r].x,p[r].y)}),a.globalAlpha=.4,a.fillStyle="#00"+(1+3*n).toString(16),a.fill()}a.restore(),X=b.clientWidth,Y=window.innerHeight-4,c.width=X,c.height=Y,a.translate(X/2,Y/2),a.scale(19,19);var y,n,t,x,e,i,f=[],l=Math,h=(2&+new Date/3)+5,s=[];for(e=h;e-->0;)i=l.PI*(.5+2*e/h),s.push({x:-l.sin(i),y:l.cos(i)}),f.push(l.random());for(y=h;y-->0;)for(n=h;n-->0;)if(n-y)for(t=7;t-->-6;)for(x=7;x-->-6;)o(y,t,n,x)}b.style.margin=0,z(),setInterval(z,2e3);