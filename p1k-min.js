function z(){function o(o,r,y,x){var t,n,f,s,c,g,u,d=Array(l),b=[],m=h[o],p=h[y],v={x:(r+i[o])*h[o].x,y:(r+i[o])*h[o].y},w={x:(x+i[y])*h[y].x,y:(x+i[y])*h[y].y},f=-m.y/m.x,z=-f*v.y+v.x,X=-p.x/p.y,Y=-X*w.x+w.y,A=(X*z+Y)/(1-X*f),I=f*A+z,M={x:I,y:A};for(s=0;l>s;s++)c=h[s],c.x||(g=c.y,c.y=c.x,c.x=g),f=-c.y/c.x,d[s]=e.floor((M.x-f*M.y)/(-f*c.y+c.x)-i[s]);for(t=r+1;t-->r-1;)for(n=x+1;n-->x-1;){for(d[o]=t,d[y]=n,u={x:0,y:0},s=l;s-->0;)u.x+=d[s]*h[s].x,u.y+=d[s]*h[s].y;b.push(u)}a.beginPath(),a.moveTo(b[0].x,b[0].y),[1,3,2].forEach(function(o){a.lineTo(b[o].x,b[o].y)}),a.globalAlpha=.6,a.fillStyle="#00"+e.floor(1+15*(y+o)/l).toString(16),a.fill()}a.restore(),X=b.clientWidth,Y=window.innerHeight-4,c.width=X,c.height=Y,a.translate(X/2,Y/2),a.scale(19,19);var r,y,x,t,n,f,i=[],e=Math,l=3+2*(0|3*Math.random()),h=[];for(n=l;n-->0;)f=e.PI*(.5+2*n/l),h.push({x:-e.sin(f),y:e.cos(f)}),i.push(e.random());for(r=l;r-->0;)for(y=l;y-->0;)if(y-r)for(x=7;x-->-6;)for(t=7;t-->-6;)o(r,x,y,t)}b.style.margin=0,z(),setInterval(z,2e3);