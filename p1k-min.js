function z(){function o(o,r,y,x){var t,n,e,s,c,g,u,b=Array(l),d=[],p=h[o],v=h[y],w={x:(r+i[o])*h[o].x,y:(r+i[o])*h[o].y},m={x:(x+i[y])*h[y].x,y:(x+i[y])*h[y].y},e=-p.y/p.x,z=-e*w.y+w.x,X=-v.x/v.y,Y=-X*m.x+m.y,A=(X*z+Y)/(1-X*e),I=e*A+z,P={x:I,y:A};for(s=0;l>s;s++)c=h[s],c.x||(g=c.y,c.y=c.x,c.x=g),e=-c.y/c.x,b[s]=f.floor((P.x-e*P.y)/(-e*c.y+c.x)-i[s]);for(t=r+1;t-->r-1;)for(n=x+1;n-->x-1;){for(b[o]=t,b[y]=n,u={x:0,y:0},s=l;s-->0;)u.x+=b[s]*h[s].x,u.y+=b[s]*h[s].y;d.push(u)}a.beginPath(),a.moveTo(d[0].x,d[0].y),[1,3,2].forEach(function(o){a.lineTo(d[o].x,d[o].y)}),a.globalAlpha=.6,a.fillStyle="#00"+(1+3*y).toString(16),a.fill()}a.restore(),X=b.clientWidth,Y=window.innerHeight-4,c.width=X,c.height=Y,a.translate(X/2,Y/2),a.scale(19,19);var r,y,x,t,n,e,i=[],f=Math,l=(2&+new Date/3)+5,h=[];for(n=l;n-->0;)e=f.PI*(.5+2*n/l),h.push({x:-f.sin(e),y:f.cos(e)}),i.push(f.random());for(r=l;r-->0;)for(y=l;y-->0;)if(y-r)for(x=7;x-->-6;)for(t=7;t-->-6;)o(r,x,y,t)}b.style.margin=0,z(),setInterval(z,2e3);